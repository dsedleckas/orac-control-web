webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o=n("Dd8w"),i=n.n(o),a=n("NYxO"),c={computed:i()({},Object(a.b)(["text","selectText"])),methods:{selectHandler:function(t){if(this.text[t]){var e=t-this.selectText,n=Math.abs(e);if(e<0)for(var s=0;s<n;s++)this.$socket.emit("/NavPrev",1);else if(e>0)for(var o=0;o<n;o++)this.$socket.emit("/NavNext",1);this.$socket.emit("/NavActivate",1)}},up:function(){for(var t=0;t<=this.selectText;t++)this.$socket.emit("/NavPrev",1)},down:function(){for(var t=0;t<5-this.selectText;t++)this.$socket.emit("/NavNext",1)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-group"},[t._l(t.text,function(e,s){return n("li",{key:s,staticClass:"list-group-item",staticStyle:{height:"50px",cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.selectHandler(s)}}},[t._v(t._s(e))])}),t._v(" "),n("div",{staticClass:"p-1 btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return e.stopPropagation(),t.up()}}},[t._v("Up")]),t._v(" "),n("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return e.stopPropagation(),t.down()}}},[t._v("Down")])])],2)},staticRenderFns:[]},u={components:{Menu:n("VU/8")(c,r,!1,null,null,null).exports},data:function(){return{showModal:!1}},methods:{nextPage:function(){this.$socket.emit("/PageNext",1)},prevPage:function(){this.$socket.emit("/PagePrev",1)},nextModule:function(){this.$socket.emit("/ModuleNext",1)},prevModule:function(){this.$socket.emit("/ModulePrev",1)}},computed:i()({},Object(a.b)(["page","module"]))},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navigation"}},[n("div",{staticClass:"d-flex justify-content-between w-100"},[n("div",{staticClass:"p-1 btn-group btn-group-sm w-100",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-arrow btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.prevModule()}}},[t._v("◄")]),t._v(" "),n("button",{staticClass:"btn btn-outline-secondary disabled",staticStyle:{opacity:"1"},attrs:{type:"button"}},[n("small",[t._v(t._s(t.module))])]),t._v(" "),n("button",{staticClass:"btn btn-arrow btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.nextModule()}}},[t._v("►")])]),t._v(" "),n("div",{staticClass:"p-1 btn-group btn-group-sm w-100",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-arrow btn-outline-secondary",class:{disabled:!t.page},attrs:{type:"button"},on:{click:function(e){return t.prevPage()}}},[t._v("◄")]),t._v(" "),n("button",{staticClass:"btn btn-outline-secondary disabled",staticStyle:{opacity:"1"},attrs:{type:"button"}},[n("small",[t._v(t._s(t.page||"-"))])]),t._v(" "),n("button",{staticClass:"btn btn-arrow btn-outline-secondary",class:{disabled:!t.page},attrs:{type:"button"},on:{click:function(e){return t.nextPage()}}},[t._v("►")])]),t._v(" "),n("div",{staticClass:"p-1"},[n("button",{staticClass:"btn btn-outline-secondary",staticStyle:{height:"100%"},attrs:{type:"button"},on:{click:function(e){t.showModal=!0}}},[t._v("☰")])])]),t._v(" "),t.showModal?n("div",[n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask",on:{click:function(e){t.showModal=!1}}},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content",staticStyle:{border:"none"}},[n("Menu")],1)])])])])],1):t._e()])},staticRenderFns:[]};var d=n("VU/8")(u,l,!1,function(t){n("tAVb")},"data-v-7723e048",null).exports,f=n("vwbq"),m={name:"PieControl",props:{radius:{type:Number,default:70},prefix:{type:String,required:!0}},data:function(){return{angleStart:2*Math.PI/3,margin:10}},computed:{ctrlAddress:function(){return"/"+this.prefix+"Ctrl"},value:{get:function(){return this.$store.getters.getField(this.prefix,"Ctrl")},set:function(t){this.$store.commit("SET_FIELD",[this.prefix,"Ctrl",t])}},input:function(){return{a:this.value,b:1-this.value}},translate:function(){return"translate("+(this.margin+this.radius)+","+(this.margin+this.radius)+")"},arcs:function(){return f.e().sort(null).value(function(t){return t.value}).startAngle(-this.angleStart).endAngle(this.angleStart)(f.b(this.input))}},mounted:function(){f.f(this.$refs.svg).on("mousemove",this.mouseHandle).on("mousedown",this.mouseHandle).on("touchstart",this.touchHandle).on("touchmove",this.touchHandle)},methods:{drawArc:function(t){return f.a().innerRadius(.6*this.radius).outerRadius(this.radius)(this.arcs[t])},touchHandle:function(t,e){f.c.preventDefault(),f.c.stopPropagation();var n=f.f(this.$refs.svg).node(),s=n.getBBox(),o=f.g(n),i=o[0][0]-s.x-s.width/2,a=-o[0][1]+s.y+this.radius;this.updateValueByCursor(i,a)},mouseHandle:function(t,e){if(f.c.buttons%2==1){var n=f.f(this.$refs.svg).node(),s=n.getBBox(),o=f.d(n),i=o[0]-s.x-s.width/2,a=-o[1]+s.y+this.radius;this.updateValueByCursor(i,a)}},updateValueByCursor:function(t,e){var n=Math.sqrt(t*t+e*e),s=Math.atan(Math.abs(e/t));t<0&&e>0&&(s=Math.PI-s),t<0&&e<0&&(s=Math.PI+s),t>0&&e<0&&(s=2*Math.PI-s),(s=2*Math.PI-s-1.5*Math.PI+this.angleStart)>2*Math.PI&&(s-=2*Math.PI),s<0&&(s+=2*Math.PI),n<this.radius&&n>.6*this.radius&&(s<=2*this.angleStart?this.value=s/(2*this.angleStart):2*Math.PI-s<.1*Math.PI?this.value=0:s-2*this.angleStart<.1*Math.PI&&(this.value=1),this.emitUpdate())},emitUpdate:function(){this.$socket.emit(this.ctrlAddress,this.value)}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"noselect"},[e("svg",{ref:"svg",attrs:{viewBox:"0 0 160 130"}},[e("g",{attrs:{transform:this.translate}},[e("path",{attrs:{d:this.drawArc(0),fill:"#ff0000",stroke:"black"}}),this._v(" "),e("path",{attrs:{d:this.drawArc(1),fill:"#6c757d",stroke:"black"}}),this._v(" "),e("text",{attrs:{"text-anchor":"middle"}},[this._v(this._s((100*this.value).toFixed(0)))])])])])},staticRenderFns:[]};var _=n("VU/8")(m,h,!1,function(t){n("fPev")},"data-v-050e7e50",null).exports,v={name:"OracParameterControl",components:{PieControl:_},props:{prefix:{type:String,required:!0}},computed:{desc:function(){return this.$store.getters.getField(this.prefix,"Desc")},value:function(){return this.$store.getters.getField(this.prefix,"Value")}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"param-block"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"param-text small font-weight-bold"},[t._v(t._s(t.desc))]),t._v(" "),n("div",{staticClass:"param-text small font-weight-bold"},[t._v(t._s(t.value))])]),t._v(" "),t.desc?n("PieControl",{attrs:{prefix:t.prefix}}):t._e()],1)},staticRenderFns:[]},p={components:{PieControl:_,Navigation:d,OracParameterControl:n("VU/8")(v,P,!1,null,null,null).exports},computed:i()({},Object(a.b)(["wsConnected","oracConnected"]))},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.oracConnected?e("div",{attrs:{id:"connected"}},[e("Navigation"),this._v(" "),e("div",{staticClass:"params-container"},this._l(8,function(t){return e("OracParameterControl",{key:t,attrs:{prefix:"P"+t}})}),1)],1):e("div",{staticClass:"container-centered text-center",attrs:{id:"connecting"}},[e("div",{staticStyle:{"min-height":"180px"}},[e("img",{staticClass:"logo",attrs:{src:"/static/logo.png"}})]),this._v(" "),this.wsConnected?e("strong",[this._v("Looking for MEC Service...")]):e("strong",[this._v("Looking for OSC Service...")])])])},staticRenderFns:[]},E=n("VU/8")(p,C,!1,null,null,null).exports,g=n("HI0L"),b=n.n(g);n("MU8w");s.a.use(a.a);var T=new a.a.Store({state:{wsConnected:!1,oracConnected:!1,P1Desc:"",P1Value:"",P1Ctrl:0,P2Desc:"",P2Value:"",P2Ctrl:0,P3Desc:"",P3Value:"",P3Ctrl:0,P4Desc:"",P4Value:"",P4Ctrl:0,P5Desc:"",P5Value:"",P5Ctrl:0,P6Desc:"",P6Value:"",P6Ctrl:0,P7Desc:"",P7Value:"",P7Ctrl:0,P8Desc:"",P8Value:"",P8Ctrl:0,T1:"",T2:"",T3:"",T4:"",T5:"",selectText:null,module:"Ask Mark",page:"Ask Mark"},mutations:{SET_WS_CONNECTED:function(t,e){t.wsConnected=e},SET_ORAC_CONNECTED:function(t,e){t.oracConnected=e},SET_FIELD:function(t,e){t[e[0]+e[1]]=e[2]},SOCKET_text:function(t,e){switch(e[0]){case 1:t.T1=e[1];break;case 2:t.T2=e[1];break;case 3:t.T3=e[1];break;case 4:t.T4=e[1];break;case 5:t.T5=e[1]}},SOCKET_selectText:function(t,e){t.selectText=--e},SOCKET_page:function(t,e){t.page=e},SOCKET_module:function(t,e){t.module=e},SOCKET_clearText:function(t){t.T1=t.T2=t.T3=t.T4=t.T5=""}},actions:{socket_connect:function(t){var e=this;setTimeout(function(){t.commit("SET_WS_CONNECTED",!0);try{e._vm.$socket.emit("OracConnect")}catch(t){e.a._vm.$socket.emit("OracConnect")}},500)},socket_ORAC_CONNECTED:function(t){setTimeout(function(){t.commit("SET_ORAC_CONNECTED",!0)},500)},socket_P1Desc:function(t,e){t.commit("SET_FIELD",["P1","Desc",e])},socket_P1Ctrl:function(t,e){t.commit("SET_FIELD",["P1","Ctrl",e])},socket_P1Value:function(t,e){t.commit("SET_FIELD",["P1","Value",e])},socket_P2Desc:function(t,e){t.commit("SET_FIELD",["P2","Desc",e])},socket_P2Ctrl:function(t,e){t.commit("SET_FIELD",["P2","Ctrl",e])},socket_P2Value:function(t,e){t.commit("SET_FIELD",["P2","Value",e])},socket_P3Desc:function(t,e){t.commit("SET_FIELD",["P3","Desc",e])},socket_P3Ctrl:function(t,e){t.commit("SET_FIELD",["P3","Ctrl",e])},socket_P3Value:function(t,e){t.commit("SET_FIELD",["P3","Value",e])},socket_P4Desc:function(t,e){t.commit("SET_FIELD",["P4","Desc",e])},socket_P4Ctrl:function(t,e){t.commit("SET_FIELD",["P4","Ctrl",e])},socket_P4Value:function(t,e){t.commit("SET_FIELD",["P4","Value",e])},socket_P5Desc:function(t,e){t.commit("SET_FIELD",["P5","Desc",e])},socket_P5Ctrl:function(t,e){t.commit("SET_FIELD",["P5","Ctrl",e])},socket_P5Value:function(t,e){t.commit("SET_FIELD",["P5","Value",e])},socket_P6Desc:function(t,e){t.commit("SET_FIELD",["P6","Desc",e])},socket_P6Ctrl:function(t,e){t.commit("SET_FIELD",["P6","Ctrl",e])},socket_P6Value:function(t,e){t.commit("SET_FIELD",["P6","Value",e])},socket_P7Desc:function(t,e){t.commit("SET_FIELD",["P7","Desc",e])},socket_P7Ctrl:function(t,e){t.commit("SET_FIELD",["P7","Ctrl",e])},socket_P7Value:function(t,e){t.commit("SET_FIELD",["P7","Value",e])},socket_P8Desc:function(t,e){t.commit("SET_FIELD",["P8","Desc",e])},socket_P8Ctrl:function(t,e){t.commit("SET_FIELD",["P8","Ctrl",e])},socket_P8Value:function(t,e){t.commit("SET_FIELD",["P8","Value",e])}},getters:{wsConnected:function(t){return t.wsConnected},oracConnected:function(t){return t.oracConnected},page:function(t){return t.page},module:function(t){return t.module},text:function(t){return[t.T1,t.T2,t.T3,t.T4,t.T5]},selectText:function(t){return t.selectText},getField:function(t){return function(e,n){return t[e+n]}}}});s.a.use(new b.a({debug:!1,connection:Object({NODE_ENV:"production"}).WS_URL?Object({NODE_ENV:"production"}).WS_URL:"http://"+window.location.host,vuex:{store:T,actionPrefix:"socket_",mutationPrefix:"SOCKET_"}})),s.a.config.productionTip=!0,new s.a({el:"#app",store:T,render:function(t){return t(E)}})},fPev:function(t,e){},tAVb:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.448cfa0c8858178bfcbc.js.map